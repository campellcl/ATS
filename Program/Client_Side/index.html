<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0">
    <title>Appalachian Trail Statistics</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <base href="index.html">
</head>
<body>
    <div id="main-container">
        <div id="map">
            <script id="map-script">
                var map;
                var shelterLayer;
                function initMap() {
                    var mapOptions = {
                        center: {lat: 34.6271827, lng: -84.1938217},
                        zoom: 10,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    };
                    map = new google.maps.Map(document.getElementById('map'), mapOptions);
                    initOverlay();
                }
                function initOverlay() {

                    var infoWindow = new google.maps.InfoWindow();

                    // Initialize the centerline overlay.
                    var centerlineLayer = new google.maps.FusionTablesLayer({
                        query: {
                            select: 'geometry',
                            from: '1sWS1ydRkfLOprAw__Zh7sKhacoMtJikEHH3kDB_f'
                        },
                        map: map,
                        suppressInfoWindows: true
                    });
                    shelterLayer = new google.maps.FusionTablesLayer({
                        query: {
                            select: 'lat',
                            from: '1pyLD00bTsB_lBIQtxnOmC_-pfEtjrJJzw0q7PNAJ'
                        },
                        suppressInfoWindows: true
                    });
                }
            </script>
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A&callback=initMap">
            </script>
        </div>
        <div id="at-shelters-fusion-table">
            <script>
                function handler(response) {
                    console.log("TODO: method body.")
                    console.log(response)
                }
            </script>
            <script id="at-shelters-fusion-table-script" src="https://www.googleapis.com/fusiontables/v2/tables/1IrUUtabFBL4YuBFOeBPKxcnMafqAKXb2zosmBQkf/templates?callback=handler&key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A">
            </script>
        </div>
        <div id="at-hikers-fusion-table">
            <script>
                function handler(response) {
                    console.log("TODO: method body 2.")
                }
            </script>
            <script id="at-hikers-fusion-table-script" src="https://www.googleapis.com/fusiontables/v2/tables/1aWDEAOdaP2-_TIuP_1IGqjurV6n_hXqeHavLQ6z2/templates?callback=handler&key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A">
            </script>
            <script type="text/javascript">
                $(document).ready(init);
                function init() {
                    $.get(
                        "https://www.googleapis.com/fusiontables/v2/tables/1IrUUtabFBL4YuBFOeBPKxcnMafqAKXb2zosmBQkf?key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A", 
                        function(data, status) {
                            console.log("Data: " + data);
                            console.log("Status: " + status);
                        }
                    );
                }
            </script>
        </div>
        <div id="dev-controls">
            <button id="display-shelter-layer-button" type="button">Display Shelters</button>
            <button id="display-hiker-start-layer-button" type="button">Display Hiker Start Location Layer</button>
            <button id="display-hiker-dest-layer-button" type="button">Display Hiker Destination Location Layer</button>
            <script type="text/javascript" id="init-hiker-layers-script">
                var display_shelter_layer_button_pressed = false;
                var display_hiker_start_layer_button_pressed = false;
                var display_hiker_dest_layer_button_pressed = false;

                $("button").click(function() {
                    console.log(this.id + " button was pressed.");
                    if (this.id == "display-shelter-layer-button") {
                        //Toggle AT Shelters Layer
                        if (!display_shelter_layer_button_pressed) {
                            shelterLayer.setMap(map);
                            display_shelter_layer_button_pressed = true;
                        } else {
                            shelterLayer.setMap(null);
                            display_shelter_layer_button_pressed = false;
                        }
                    } else if (this.id == "display-hiker-start-layer-button") {
                        //Init Hiker Start Location Layer
                        var hiker_start_layer = new google.maps.FusionTablesLayer({
                            query: {
                                select: 'start_lat',
                                from: '1hDVF1OpgMuSUbWc138-Am7BoVmNjubjfod0AalgH'
                            },
                            map: map,
                            heatmap: {
                                enabled: true
                            },
                            suppressInfoWindows: false
                        });
                    } else if (this.id == "display-hiker-dest-layer-button") {
                        var hiker_dest_layer = new google.maps.FusionTablesLayer({
                            query: {
                                select: 'dest_lat',
                                from: '1hDVF1OpgMuSUbWc138-Am7BoVmNjubjfod0AalgH'
                            },
                            map: map,
                            heatmap: {
                                enabled: true
                            },
                            suppressInfoWindows: false
                        });
                    }
                });
            </script>
        </div>
    </div>
</body>
</html>

<!-- For reference use client side work: C:\Users\Chris\Documents\College\CSS Server Backup\Client Side Web Programming (CS 3440) !-->