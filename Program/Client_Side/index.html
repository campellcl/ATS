<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0">
    <title>Appalachian Trail Statistics</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <base href="index.html">
</head>
<body>
    <div id="main-container">
        <div id="map">
            <script id="map-script">
                var map;
                var shelterLayer;
                var hiker_start_layer;
                var hiker_dest_layer;
                var centerline_layer;

                function initMap() {
                    var mapOptions = {
                        center: {lat: 34.6271827, lng: -84.1938217},
                        zoom: 10,
                        mapTypeId: google.maps.MapTypeId.ROADMAP
                    };
                    map = new google.maps.Map(document.getElementById('map'), mapOptions);
                    initOverlay();
                }
                function initOverlay() {
                    var infoWindow = new google.maps.InfoWindow();
                    // Initialize the centerline overlay.
                    centerline_layer = new google.maps.FusionTablesLayer({
                        query: {
                            select: 'geometry',
                            from: '1sWS1ydRkfLOprAw__Zh7sKhacoMtJikEHH3kDB_f'
                        },
                        suppressInfoWindows: true
                    });
                    shelterLayer = new google.maps.FusionTablesLayer({
                        query: {
                            select: 'lat',
                            from: '1pyLD00bTsB_lBIQtxnOmC_-pfEtjrJJzw0q7PNAJ'
                        },
                        suppressInfoWindows: true
                    });
                    hiker_start_layer = new google.maps.FusionTablesLayer({
                        query: {
                            select: 'start_lat',
                            from: '1JUAkUL5H7IhU4QrmLuVQ65Tg2SNyI5Xqm3A7Nk1g'
                        },
                        heatmap: {
                            enabled: true
                        },
                        suppressInfoWindows: false
                    });
                    hiker_dest_layer = new google.maps.FusionTablesLayer({
                        query: {
                            select: 'dest_lat',
                            from: '1JUAkUL5H7IhU4QrmLuVQ65Tg2SNyI5Xqm3A7Nk1g'
                        },
                        heatmap: {
                            enabled: true
                        },
                        suppressInfoWindows: false
                    });

                }
            </script>
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A&callback=initMap">
            </script>
        </div>
        <div id="at-shelters-fusion-table">
            <script>
                function handler(response) {
                    console.log("TODO: method body.")
                    console.log(response)
                }
            </script>
            <script id="at-shelters-fusion-table-script" src="https://www.googleapis.com/fusiontables/v2/tables/1IrUUtabFBL4YuBFOeBPKxcnMafqAKXb2zosmBQkf/templates?callback=handler&key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A">
            </script>
        </div>
        <div id="at-hikers-fusion-table">
            <script>
                function handler(response) {
                    console.log("TODO: method body 2.")
                }
            </script>
            <script id="at-hikers-fusion-table-script" src="https://www.googleapis.com/fusiontables/v2/tables/1aWDEAOdaP2-_TIuP_1IGqjurV6n_hXqeHavLQ6z2/templates?callback=handler&key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A">
            </script>
            <script type="text/javascript">
                $(document).ready(init);
                function init() {
                    $.get(
                        "https://www.googleapis.com/fusiontables/v2/tables/1IrUUtabFBL4YuBFOeBPKxcnMafqAKXb2zosmBQkf?key=AIzaSyBCjde_rx_Fe0v4G_vD-uI33M1o9toMF2A", 
                        function(data, status) {
                            console.log("Data: " + data);
                            console.log("Status: " + status);
                        }
                    );
                    $("#toggle-northbound-hikers-box").attr("checked", true);
                    $("#toggle-southbound-hikers-box").attr("checked", true);
                }
            </script>
        </div>
        <div id="dev-controls">
            <button id="toggle-at-centerline-button" type="button">Toggle AT Centerline Layer</button>
            <button id="toggle-at-shelter-button" type="button">Toggle AT Shelter Layer</button>
            <button id="toggle-hiker-start-layer-button" type="button">Toggle Hiker Start Location Layer</button>
            <button id="toggle-hiker-dest-layer-button" type="button">Toggle Hiker Destination Location Layer</button>
            <input id="toggle-northbound-hikers-box" type="checkbox">Northbound Hikers
            <input id="toggle-southbound-hikers-box" type="checkbox">Southbound Hikers
            <input id="toggle-single-point-hikers-box" type="checkbox">Single Point Hikers
            <script type="text/javascript" id="init-hiker-layers-script">
                var toggle_at_centerline_button_pressed = false;
                var toggle_at_shelter_button_pressed = false;
                var toggle_hiker_start_layer_button_pressed = false;
                var toggle_hiker_dest_layer_button_pressed = false;
                var northbound_hikers_box_checked = true;
                var southbound_hikers_box_checked = true;

                $("button").click(function() {
                    console.log(this.id + " button was pressed.");
                    if (this.id == "toggle-at-centerline-button") {
                        //Toggle AT Centerline Layer
                        if (!toggle_at_centerline_button_pressed) {
                            centerline_layer.setMap(map);
                            toggle_at_centerline_button_pressed = true;
                        } else {
                            centerline_layer.setMap(null);
                            toggle_at_centerline_button_pressed = false;
                        }
                    } else if (this.id == "toggle-at-shelter-button") {
                        //Toggle AT Shelters Layer
                        if (!toggle_at_shelter_button_pressed) {
                            shelterLayer.setMap(map);
                            toggle_at_shelter_button_pressed = true;
                        } else {
                            shelterLayer.setMap(null);
                            toggle_at_shelter_button_pressed = false;
                        }
                    } else if (this.id == "toggle-hiker-start-layer-button") {
                        //Toggle Hiker Start Location Layer
                        if (!toggle_hiker_start_layer_button_pressed) {
                            hiker_start_layer.setMap(map);
                            toggle_hiker_start_layer_button_pressed = true;
                        } else {
                            hiker_start_layer.setMap(null);
                            toggle_hiker_start_layer_button_pressed = false;
                        }
                    } else if (this.id == "toggle-hiker-dest-layer-button") {
                        //Toggle Hiker Destination Layer
                        if (!toggle_hiker_dest_layer_button_pressed) {
                            hiker_dest_layer.setMap(map);
                            toggle_hiker_dest_layer_button_pressed = true;
                        } else {
                            hiker_dest_layer.setMap(null);
                            toggle_hiker_dest_layer_button_pressed = false;
                        }
                    }
                });
                $("#toggle-northbound-hikers-box").change(function() {
                    if (this.checked) {
                        console.log("northbound hikers checked");
                        $(this).attr("checked", true);
                        northbound_hikers_box_checked = true;
                    } else {
                        console.log("northbound hikers unchecked");
                        $(this).attr("checked", false);
                        northbound_hikers_box_checked = true;
                    }
                });
                $("#toggle-southbound-hikers-box").change(function() {
                    if (this.checked) {
                        console.log("southbound hikers checked");
                        $(this).attr("checked", true);
                        southbound_hikers_box_checked = true;
                        state_change(toggle_at_centerline_button_pressed, toggle_at_shelter_button_pressed,
                            toggle_hiker_start_layer_button_pressed, toggle_hiker_dest_layer_button_pressed,
                            northbound_hikers_box_checked, southbound_hikers_box_checked);
                    } else {
                        console.log("southbound hikers unchecked");
                        $(this).attr("checked", false);
                        southbound_hikers_box_checked = false;
                    }
                });
                function state_change(toggle_at_centerline_button_pressed, toggle_at_shelter_button_pressed,
                            toggle_hiker_start_layer_button_pressed, toggle_hiker_dest_layer_button_pressed,
                            northbound_hikers_box_checked, southbound_hikers_box_checked) {
                    if (toggle_at_centerline_button_pressed) {
                        
                    }
                }
            </script>
        </div>
    </div>
</body>
</html>
<!-- For reference use client side work: C:\Users\Chris\Documents\College\CSS Server Backup\Client Side Web Programming (CS 3440) !-->
